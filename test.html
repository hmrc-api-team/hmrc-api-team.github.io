<!DOCTYPE html>

<body>



<button class="collapsible" id="parent-ab">individuals-state-benefits-api</button>
<div class="content">
    <button class="collapsible" id="ab-1">13 November 2020</button>
    <div class="content">
        <p> moved change log to current destination. Old change log can be found <a href="https://github.com/hmrc/individuals-state-benefits-api/wiki/Changelog">here</a></p>
    </div>
    <button class="collapsible" id="ab-2">13 November 2020</button>
    <div class="content">
        <p> moved change log to current destination. Old change log can be found <a href="https://github.com/hmrc/individuals-state-benefits-api/wiki/Changelog">here</a></p>
    </div>
    <button class="collapsible" id="ab-3">13 November 2020</button>
    <div class="content">
        <p> moved change log to current destination. Old change log can be found <a href="https://github.com/hmrc/individuals-state-benefits-api/wiki/Changelog">here</a></p>
    </div>
</div>

<script>
var coll = document.getElementsByClassName("collapsible");
var i;

for (i = 0; i < coll.length; i++) {
  coll[i].addEventListener("click", function() {
    this.classList.toggle("active");
    var content = this.nextElementSibling;
    if (content.style.maxHeight){
      content.style.maxHeight = null;
    } else {
      var id = this.getAttribute('id');
      if (/parent-/.test(id)){
        console.log("i am the parent")
        console.log(content.scrollHeight)
        content.style.maxHeight = content.scrollHeight + "px";
      } else {
        console.log("i not the parent");
        var id = this.getAttribute('id');
        var value = id.match(/[^-]*/i)[0];
        console.log(value);
        var currentElementsParent = "parent-".concat(value);
        console.log(currentElementsParent);
        var int = content.scrollHeight + document.getElementById(currentElementsParent).nextElementSibling.scrollHeight;
        console.log(int);
        console.log(document.getElementById(currentElementsParent).nextElementSibling.style.height);
        document.getElementById(currentElementsParent).nextElementSibling.style.height = int + "px";
        console.log(document.getElementById(currentElementsParent).nextElementSibling.style.height);
        content.style.maxHeight = content.scrollHeight + "px";
      }
    }
  });
}
</script>

</body>
</html>